// AjaxQ jQuery Plugin
// Copyright (c) 2012 Foliotek Inc.
// MIT License
// https://github.com/Foliotek/ajaxq

(function(d){var c={};d.ajaxq=function(b,h){function k(){if(c[b]){var a=c[b].shift();a?a():delete c[b]}}if("undefined"===typeof h)throw"AjaxQ: queue name is not provided";var e=d.Deferred(),a=e.promise();a.success=a.done;a.error=a.fail;a.complete=a.always;var f=d.extend(!0,{},h);(function(a){c[b]?c[b].push(a):(c[b]=[],a())})(function(){var a=d.ajax.apply(window,[f]).always(k);a.done(function(){e.resolve.apply(this,arguments)});a.fail(function(){e.reject.apply(this,arguments)})});return a};d.each(["getq",
"postq"],function(b,c){d[c]=function(b,e,a,f,g){d.isFunction(a)&&(g=g||f,f=a,a=void 0);return d.ajaxq(b,{type:"postq"===c?"post":"get",url:e,data:a,success:f,dataType:g})}});d.ajaxq.isRunning=function(b){if(b)return c.hasOwnProperty(b);a:{for(var d in c)if(c.hasOwnProperty(d)){b=!0;break a}b=!1}return b};d.ajaxq.clear=function(b){if(b)c[b]&&delete c[b];else for(var d in c)c.hasOwnProperty(d)&&delete c[d]}})(jQuery);