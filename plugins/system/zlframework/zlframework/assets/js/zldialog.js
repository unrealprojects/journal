/* ===================================================
 * ZL Framework
 * https://zoolanders.com/extensions/zl-framework
 * ===================================================
 * Copyright (C) JOOlanders SL
 * http://www.gnu.org/licenses/gpl-2.0.html GNU/GPLv2 only
 * ========================================================== */
!function(a){var b=function(){};a.extend(b.prototype,{name:"ZLdialog",initialize:function(b,c,d){this.options=a.extend({width:"300",height:"200",title:"Dialog"},c),this.wrapper=a('<div><span class="zl-loaderhoriz" /></div>').insertAfter(b);var e=this,f=e.wrapper.dialog(a.extend({autoOpen:!1,resizable:!1,width:e.options.width,height:e.options.height,dialogClass:"zldialog",open:function(){f.position({of:g,my:"left top",at:"right bottom"})},dragStop:function(){a(".qtip").qtip("reposition")},close:function(){a(".qtip").qtip("hide")}},e.options)).dialog("widget"),g=a('<span title="'+e.options.title+'" class="zl-btn-dialog" />').insertAfter(b).bind("click",function(){e.wrapper.dialog(e.wrapper.dialog("isOpen")?"close":"open"),a(this).data("initialized")||d(e),a(this).data("initialized",!0)});a("html").bind("mousedown",function(b){e.wrapper.dialog("isOpen")&&!g.is(b.target)&&!f.find(b.target).length&&!a(b.target).closest(".qtip").length&&e.wrapper.dialog("close")})},loaded:function(){this.wrapper.find(".zl-loaderhoriz").remove()},close:function(){this.wrapper.dialog("close")}}),a.fn[b.prototype.name]=function(){var c=arguments,d=c[0]?c[0]:null;return this.each(function(){var e=a(this);if(b.prototype[d]&&e.data(b.prototype.name)&&"initialize"!=d)e.data(b.prototype.name)[d].apply(e.data(b.prototype.name),Array.prototype.slice.call(c,1));else if(!d||a.isPlainObject(d)){var f=new b;b.prototype.initialize&&f.initialize.apply(f,a.merge([e],c)),e.data(b.prototype.name,f)}else a.error("Method "+d+" does not exist on jQuery."+b.name)})}}(jQuery);